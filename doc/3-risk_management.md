---
marp: true
theme: gaia
class: invert
paginate: true
headingDivider: 1
style: |
  section { font-size: 32px; }
  table { font-size: 26px; }
  blockquote { font-style: italic; color: #ffd700; }
---

# Курс: Разработка безопасного ПО
## Управление рисками в безопасности

<!--
_class: lead
-->

# Зачем нам управление рисками?

Риск — это потенциальная проблема, которая ещё не случилась

Любая разработка ПО автоматически создаёт новые риски безопасности

**Цель не убрать ВСЕ риски** (это невозможно)
**Цель — снизить их до приемлемого уровня**

> 100 % безопасного ПО не существует

# Главная формула риска

**Риск = Вероятность успешной атаки × Ущерб от неё**

| Пример риска                              | Вероятность   | Ущерб       | Итоговый риск   |
|-------------------------------------------|---------------|-------------|-----------------|
| SQL-инъекция в публичной форме            | Высокая       | Критический | Очень высокий   |
| XSS только во внутренней админке по VPN   | Низкая        | Средний     | Низкий          |
| Утечка бэкапа из cold storage             | Очень низкая  | Критический | Средний         |

Снижать можно вероятность **или** ущерб (лучше оба)

# Ожидайте атак — они будут 100 %

Как только ваше ПО начнут использовать реальные люди —

появятся умные противники, которые будут его атаковать

Вы не можете запретить им пытаться
Вы можете сделать успешную атаку очень дорогой и почти бесполезной

> Даже простой интернет-магазин ежедневно сканируют тысячи ботов

# Процесс управления рисками

1. **Risk Planning** — решаем, как будем работать с рисками
2. **Risk Identification** — ищем, что может пойти не так
3. **Risk Analysis** — оцениваем вероятность и ущерб
4. **Risk Handling** — выбираем стратегию
5. **Risk Monitoring** — следим, как риски «сгорают»

Маленькие проекты → неформально
Крупные и критичные → формальный процесс обязателен

# Четыре стратегии работы с риском

| Стратегия    | Когда применять                                    | Пример в безопасности                                      |
|--------------|----------------------------------------------------|-------------------------------------------------------------|
| Acceptance   | Риск маленький                                     | Слабый XSS во внутренней утилите                            |
| Avoidance    | Лучший вариант — полностью убираем риск            | Не храним номера карт → нет проблем с PCI DSS               |
| Transfer     | Перекладываем риск на другого                      | Google/Apple/Yandex OAuth вместо своей аутентификации      |
| Control      | Активно снижаем вероятность и/или ущерб            | 2FA + WAF + код-ревью + сканеры + hardening                 |

В безопасности 90 % времени используем **Control**

# Как снижать риски (Control)

• Обучение разработчиков OWASP Top 10 и безопасному коду
• Выбор языков и фреймворков с встроенной защитой
• Автоматические сканеры (SAST, DAST, SCA)
• Обязательный security code review
• Hardening серверов и контейнеров
• Регулярное обновление зависимостей
• Penetration testing и bug-bounty

Чем больше слоёв защиты — тем ниже итоговый риск

# Как находить риски безопасности?

Самые эффективные способы

- Изучать инциденты в похожих проектах
- Threat Modeling (STRIDE, атакующие деревья)
- Abuse / Misuse Cases
- Чек-листы OWASP ASVS, CIS Benchmarks
- Развивать **security mindset** — лёгкую профессиональную паранойю

> Хороший спец по безопасности заходит в любой магазин и сразу думает:
> «А как бы я здесь украл что-нибудь незаметно?»
> — Bruce Schneier

# История про муравьиную ферму (классика)

С 1956 года компания Uncle Milton продавала детям наборы «Муравьиная ферма»

В коробке муравьёв не было — только открытка:
«Напиши адрес — мы пришлём живых муравьёв почтой»

Брюс Шнайер:
«Самое интересное — они пришлют живых муравьёв **любому**, чей адрес ты укажешь»

Мораль: думайте как атакующий — этому можно и нужно научиться

# Безопасность — это процесс, а не продукт

> «Security is a process, not a product»
> Bruce Schneier, 2000

Мир меняется → новые уязвимости, новые законы, новые способы использования

Одноразовый пентест или чек-лист **не делает** систему безопасной навсегда

# Чек-листы ≠ безопасность

OWASP Top 10, ASVS, CIS Benchmarks — очень полезны, но:

- Можно выполнить все пункты и остаться уязвимым
- Можно нарушить пару пунктов и быть очень безопасным

**Главное — думать своей головой**

Чек-листы — помощники, а не заменитель мышления

# Риск-менеджмент — это здравый смысл

Когда вы тушите текущие баги — легко забыть про риски

А завтра эти риски превратятся в реальные инциденты

> Лучше 1 день потратить на анализ рисков сейчас,
> чем потом 1 месяц разбираться с утечкой и штрафами
