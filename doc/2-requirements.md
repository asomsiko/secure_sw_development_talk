---
marp: true
theme: gaia
class: invert
paginate: true
headingDivider: 1
style: |
  section { font-size: 32px; line-height: 1.4; }
  table { font-size: 26px; }
  blockquote { font-style: italic; color: #ffdd57; background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 8px; }
---

# Курс: Разработка безопасного ПО
## Составление требований безопасности

<!--
_class: lead
-->

# Что такое требованияs?

Требования — это то, **что** должна делать система или **какой** она должна быть

Требования безопасности:
  - Функциональность
  - Требования законодательства или регулятора
  - Ожидания пользователей / заказчиков
- Требования безопасности — это тоже требования, просто с фокусом на защиту

<!-- Безопасность — не «дополнительная фича», а такой же обязательный тип требований, как и остальные.
-->

# Где хранятся требования безопасности?

- Не всегда в одном большом документе
- Часто — отдельные тикеты в Jira/GitHub Issues
- Для маленьких проектов могут быть только в голове
- **Рекомендация:** хотя бы high-level требования безопасности — записать в одном месте (README.md, SECURITY.md, Confluence и т.д.)

<!-- Истории: Был случай, профилировщик поддерживал удаленное подключение без аутентификации потому что “все думали что это нужно пользователю" — и никто этого не записалh.
-->

# Основные цели безопасности (Security Objectives)

| Цель                | Ключевой вопрос                              |
|---------------------|----------------------------------------------|
| Confidentiality     | Какие данные нельзя показывать всем?         |
| Integrity           | Кто и что может менять?                      |
| Availability        | Какой ущерб от простоя?                      |
| Non-repudiation     | Нужно ли доказывать, что пользователь что-то сделал? |
| Identity & Authn    | Как пользователь подтверждает, что он — это он? |
| Authorization       | Кто что может делать?                        |
| Auditing / Logging  | Какие события обязательно логировать?        |

<!--
Попросить студентов привести пример из жизни для каждой.

| Цель                | Смысл                              |
|---------------------|------------------------------------|
| Confidentiality     | Нет несанкционированного чтения    |
| Integrity           | Нет несанкционированных изменений  |
| Availability        | Система продолжает работать        |
| Non-repudiation     | Доказуемость действий              |
| Identity & Authn    | Доказательство личности            |
| Authorization       | Разрешения                         |
| Auditing / Logging  | Журналирование                     |
-->

# Confidentiality

- Определите, какие данные являются приватными
- Задайте вопросы:
  - Можно ли вообще не хранить эти данные?
  - Если хранить — кто имеет право читать?
- Пароли и секреты → **никогда** в открытом виде
  - Используйте Argon2id, bcrypt, scrypt, PBKDF2

<!--Пример: «Если вы делаете мессенджер — сообщения должны быть зашифрованы E2E.
Если делаете интернет-магазин — номера карт лучше не хранить вообще (tokenization)».
-->

# Integrity

- Какие данные критичны к изменению?
- Примеры:
  - Баланс на счёте
  - Медицинские записи
  - Код прошивки устройства
- Нужно определить, кто и при каких условиях может их может менять

<!-- Подделка целостности — это часто цель атак типа «privilege escalation» или «supply chain».
-->

# Availability

- Абсолютной доступности в интернете не бывает
- DDoS с большим количеством ресурсов победить почти невозможно
- Что можно сделать:
  - Не падать от простых атак (rate limiting, WAF)
  - Быстрое горизонтальное масштабирование
  - Быстрое восстановление после атаки
  - Регулярные бэкапы + cold storage

# Non-repudiation, I&A, Authorization, Auditing

| Цель                | Типичные требования безопасности                                 |
|---------------------|-------------------------------------------------------------------|
| Non-repudiation     | Электронные подписи, неизменяемые логи                           |
| I&A                 | Поддержка 2FA/MFA обязательно (или интеграция с провайдером)     |
| Authorization       | RBAC / ABAC, принцип минимальных привилегий                      |
| Auditing            | Логировать: вход/выход, создание/удаление аккаунтов, критичные действия |

<!--Отсутствие логов = невозможность расследования инцидента.
-->

# Как искать требования безопасности?

1. **Abuse cases / Misuse cases**
   Опишите, как злоумышленник может навредить → придумайте контрмеры
2. Определите уровень атакующего
   Сколько у него ресурсов, кто цель?
3. Посмотрите на аналоги
   Какие меры безопасности уже есть у конкурентов?
4. Common Criteria Part 2
   Огромный каталог готовых функциональных требований (бесплатно)

<!--Abuse cases — очень мощный инструмент. Покажите простой пример:
«Злоумышленник вводит 1 000 000 товаров в корзину → сайт падает».
-->

# Ключевые термины

| Термин       | Значение                                                                 |
|--------------|--------------------------------------------------------------------------|
| Trust        | Решение полагаться на что-то                                            |
| Trustworthy  | Достойно доверия (есть доказательства)                                  |
| Untrusted    | То, чему доверять полностью нельзя (например, любой ввод от пользователя) |

> Уязвимости возникают, когда мы доверяем чему-то, что не является trustworthy.

<!--Пример: «Мы доверяли вводу пользователя и не экранировали его → SQL-инъекция».
-->
